
//
// M1 = [ 
//       [a_11, a_12, a_13],
//       [a_21, a_22, a_23],
//       [a_31, a_32, a_33],
//     ]
// M2 = [ 
//       [b_11, b_12, b_13],
//       [b_21, b_22, b_23],
//       [b_31, b_32, b_33],
//     ]
// M3 = M1xM2
//     [
//     [a_11*b_11 + a_12*b_12 + a_13*b_31, a_11*b_12+a_12*b_11 + a_13*b_32] 
//     ]
function mat_mat_mul_3d(M1,M2) {
    return [
      [M1[0][0]*M2[0][0] + M1[0][1]*M2[1][0]+ M1[0][2]*M2[2][0],
       M1[0][0]*M2[1][0] + M1[0][1]*M2[1][1]+ M1[0][2]*M2[2][1],
       M1[0][0]*M2[0][0] + M1[0][1]*M2[1][0]+ M1[0][2]*M2[2][2]],

      [M1[1][0]*M2[0][0] + M1[0][1]*M2[1][0]+ M1[0][2]*M2[2][0],
       M1[1][0]*M2[1][0] + M1[0][1]*M2[1][1]+ M1[0][2]*M2[2][1],
       M1[1][0]*M2[0][0] + M1[0][1]*M2[1][0]+ M1[0][2]*M2[2][2]],

      [M1[2][0]*M2[0][0] + M1[0][1]*M2[1][0]+ M1[0][2]*M2[2][0],
       M1[2][0]*M2[1][0] + M1[0][1]*M2[1][1]+ M1[0][2]*M2[2][1],
       M1[2][0]*M2[0][0] + M1[0][1]*M2[1][0]+ M1[0][2]*M2[2][2]]
    ];
}